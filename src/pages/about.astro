---
import { z } from "zod";
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import TeamMemberCard from "../components/team/TeamMemberCard.astro";
import MemberDetails from "../data/team.json";
import COPSLogo from "../assets/images/cops_logo.png"
import AboutUs from "../assets/images/aboutus.svg"
// Enforce the validation of the member data from the JSON
const memberZod = z.object({
  name: z.string().min(5).max(30),
  role: z.enum(["maintainer", "core-team", "contributor"]),
  description: z.string().min(10).max(100),
  skills: z.string().array().min(1).max(5),
  image: z.string(),
  socials: z.object({
    github: z.string().url(),
    gmail: z.string().url().optional(),
    linkedin: z.string().url().optional(),
    twitter: z.string().url().optional(),
    instagram: z.string().url().optional(),
  }),
  portfolio: z.string().url().optional(),
});
export type TeamMemberInterface = z.infer<typeof memberZod>;

const membersZod = z.array(memberZod);
membersZod.parse(MemberDetails);
---

<Layout title="Team">
  <div class="flex flex-col text-xl gap-4">
    <div
      class="flex w-[100%] justify-center items-center text-white text-5xl font-bold"
    >
      About Us
    </div>
    <div class="text-white flex flex-col px-8 md:px-32">
      <div class="flex flex-col md:flex-row gap-12">
        <div class="md:w-[50%] flex flex-col gap-8 justify-center">
          <div class="text-3xl font-semibold underline">
            About LFX Mentorship Project
          </div>
          <div>
            Welcome to the LFX Mentorship Project, a dynamic initiative born
            from our collective commitment to advancing excellence in the realm
            of Open Source. We, members of
            <div class="flex items-center justify-center">
              <Image class="h-[4rem] w-fit" src={COPSLogo} alt="" /> Club Of
              Programmers of IIT-BHU
            </div>
             proudly present this initiative as a testament to our dedication
            and passion for fostering growth and collaboration within the
            open-source community.
          </div>
        </div>

        <div class="flex justify-center items-center">
          <Image src={AboutUs} class="h-fit" alt="" />
        </div>
      </div>
      <div class="mb-12 flex flex-col gap-4">
        <div class="text-3xl font-semibold underline">Our Mission</div>
        <div>
          At the core of our mission is a dedication to nurturing collaboration
          and learning within the open-source software development community. We
          aim to create an inclusive platform that not only showcases the
          diverse landscape of LFX mentorship within Software Development Groups
          but also equips contributors with valuable insights for engaging with
          impactful projects.
        </div>
      </div>
    </div>
  </div>
  <div class="flex flex-col items-center justify-center px-32">
    <div class="flex flex-col items-center justify-center pb-20">
      <!-- Maintainers -->
      <h1 class="text-white text-5xl font-bold">Maintainers</h1>
      <div class="flex flex-row items-center justify-center flex-wrap gap-x-10">
        {
          (MemberDetails as TeamMemberInterface[])
            .filter((member) => member.role === "maintainer")
            .map((member: TeamMemberInterface) => (
              <TeamMemberCard {...member} />
            ))
        }
      </div>
      <!-- Contributors -->
      <h1 class="text-white text-5xl font-bold pt-32">Contributors</h1>
      <div class="flex flex-row items-center justify-center flex-wrap gap-x-10">
        {
          (MemberDetails as TeamMemberInterface[])
            .filter((member) => member.role === "contributor")
            .map((member: TeamMemberInterface) => (
              <TeamMemberCard {...member} />
            ))
        }
      </div>
    </div>
  </div>
</Layout>
